{% extends "transcriptions/base.html" %} {% load staticfiles %}
{% block title %}{{ transcription.asset.title }}{% endblock title %}
{% block head_content %}
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="{% static "vendor/openseadragon/openseadragon.min.js" %}"></script>
    <style>
        .tab-pane, .asset-image {
            height: 600px;

        }
        .asset-image {
            background-color: #eee;
            border: 1px solid #ccc;
        }
        #nav-tab { margin-bottom: .5em; }
        .tab-pane textarea {
            height: 100%;
            border: 1px solid #ccc;
        }
        .tab-content { margin-bottom: .5em; }
    </style>
{% endblock head_content %}
{% block main_content %} {% with transcription.asset as asset %}
    <div class="container-fluid">
      <div class="row">
        <div class="col-12">
          <h6 class="blue-text"><a href="{% url 'transcriptions:collection' asset.collection.slug %}">{{ asset.collection.title }}</a>{{asset.title}}</h6>
          <!-- <h2>{{ asset.title }}</h2>
          <p><a href="{% url 'transcriptions:collection' asset.collection.slug %}">
              <i>{{ asset.collection.title }}</i></a></p> -->
          <!-- <p>{{ asset.description }}</p>
          <p>Transcription by {{ transcription_user }}</p> -->
          <div class="row">
            <div class="col-12">
                <div id="asset-image" class="asset-image">
                    <script>
                        OpenSeadragon({
                            id: 'asset-image',
                            prefixUrl: '{% static "vendor/openseadragon/images/" %}',
                            tileSources: {
                                type: 'image',
                                url: '{% static asset.media_url %}'
                            }
                        });
                    </script>
                </div>
            </div>
              <div class="col-6 col-md-4 offset-md-8 offset-sm-6">
                  <nav>
                      <div class="nav nav-pills" id="nav-tab" role="tablist">
                          <a class="nav-item nav-link active" id="nav-tx-tab" data-toggle="tab" href="#nav-tx" role="tab" aria-controls="nav-tx" aria-selected="true">Transcription</a>
                          <a class="nav-item nav-link" id="nav-tags-tab" data-toggle="tab" href="#nav-tags" role="tab" aria-controls="nav-tags" aria-selected="false">Tags</a>
                          <a class="nav-item nav-link" id="nav-disc-tab" data-toggle="tab" href="#nav-disc" role="tab" aria-controls="nav-disc" aria-selected="false">Discussion</a>
                      </div>
                  </nav>
              </div>
          </div>
          <div class="row">
              <div class="col-6">
                  <form method="post">
                      <div class="tab-content" id="nav-tabContent">
                          <div class="tab-pane fade show active" id="nav-tx" role="tabpanel" aria-labelledby="nav-tx-tab">
                              <textarea class="w-100" name="tx" id="tx" placeholder="Transcription">{{ transcription.text }}</textarea>
                          </div>
                          <div class="tab-pane fade" id="nav-tags" role="tabpanel" aria-labelledby="nav-tag-tab"></div>
                          <div class="tab-pane fade" id="nav-disc" role="tabpanel" aria-labelledby="nav-disc-tab"></div>
                      </div>

                      <p>
                          <label for="status_id">Transcription Status:</label>
                          <select name="" id="status_id">
                              <option value="0">0%</option>
                              <option value="25">25%</option>
                              <option value="50">50%</option>
                              <option value="75">75%</option>
                              <option value="100">100%</option>
                          </select>
                          <input type="submit" class="btn btn-primary" value="Save">
                      </p>
                  </form>
              </div>
          </div>
      </div>
    </div>
{% endwith %}
{% endblock main_content %}
